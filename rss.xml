<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[Pensando em C√≥digos]]></title><description><![CDATA[Um espa√ßo onde vou consolidando antigos e novos conhecimentos em programa√ß√£o: muito javascript, typescript, nodejs, kotlin, spring, etc.]]></description><link>http://pensandoemcodigos.net</link><generator>GatsbyJS</generator><lastBuildDate>Thu, 03 Sep 2020 18:19:22 GMT</lastBuildDate><item><title><![CDATA[Leituras (17-30 ago)]]></title><description><![CDATA[üòû Duas ultimas semanas sem tempo pra leituras. Apple, Epic, and the App Store (Stratechery): Ben Thompson aproveita a recente briga entre‚Ä¶]]></description><link>http://pensandoemcodigos.net/2020/08/31/</link><guid isPermaLink="false">http://pensandoemcodigos.net/2020/08/31/</guid><pubDate>Mon, 31 Aug 2020 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;üòû Duas ultimas semanas sem tempo pra leituras.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://stratechery.com/2020/apple-epic-and-the-app-store/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Apple, Epic, and the App Store (Stratechery)&lt;/a&gt;&lt;/strong&gt;: Ben Thompson aproveita a recente briga entre Apple e Epic para analisar o hist√≥rico da App Store, de como ela ajudou a entregar valor ao ecossistema do iPhone sendo fundamental para o seu sucesso, mas agora passa a atrapalhar o usu√°rio tentando ter mais controle do que o desej√°vel (em ingl√™s).&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Leituras (10-16 ago)]]></title><description><![CDATA[üòÉ Bati nesses excelentes textos essa semana. Would breaking up ‚Äòbig tech‚Äô work? What would? (Benedict Evans): Ben Evans analisa quais‚Ä¶]]></description><link>http://pensandoemcodigos.net/2020/08/17/</link><guid isPermaLink="false">http://pensandoemcodigos.net/2020/08/17/</guid><pubDate>Mon, 17 Aug 2020 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;üòÉ Bati nesses excelentes textos essa semana.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://www.ben-evans.com/benedictevans/2020/8/10/would-breaking-up-big-tech-work&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Would breaking up ‚Äòbig tech‚Äô work? What would? (Benedict Evans)&lt;/a&gt;&lt;/strong&gt;: Ben Evans analisa quais seriam os benef√≠cios da aplica√ß√£o da lei de antitruste e divis√£o das &lt;em&gt;Big Four&lt;/em&gt; em empresas menores (em ingl√™s).&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://www.eugenewei.com/blog/2020/8/3/tiktok-and-the-sorting-hat&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;TikTok and the Sorting Hat (Remains of the Day)&lt;/a&gt;&lt;/strong&gt;: Eugene Wei conta a hist√≥ria por tr√°s do TikTok, as empresas precedentes, e como a evolu√ß√£o do algoritmo se tornou o grande trunfo do app (em ingl√™s).&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://bilge.world/google-page-experience&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Google Is Not God of The Web (The Psalms)&lt;/a&gt;&lt;/strong&gt;: David Blue opina que a vis√£o de uma boa experiencia de usu√°rio ditada pelo Google torna a Web pior e menos diversa (em ingl√™s).&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://blog.checkpoint.com/2020/08/06/achilles-small-chip-big-peril/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Achilles: Small chip, big peril (Check Point)&lt;/a&gt;&lt;/strong&gt;: Not√≠cia da descoberta de mais de 400 vulnerabilidades nos chips Snapdragon da Qualcomm (em ingl√™s).&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Leituras (03-09 ago)]]></title><description><![CDATA[üòû Semana n√£o muito produtiva. The Microsoft Comes Around (500ish): Um texto antigo, de 2018, analisando a perda de terreno da Microsoft na‚Ä¶]]></description><link>http://pensandoemcodigos.net/2020/08/10/</link><guid isPermaLink="false">http://pensandoemcodigos.net/2020/08/10/</guid><pubDate>Mon, 10 Aug 2020 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;üòû Semana n√£o muito produtiva.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://500ish.com/the-microsoft-comes-around-fbb88dc4aacf&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;The Microsoft Comes Around (500ish)&lt;/a&gt;&lt;/strong&gt;: Um texto antigo, de 2018, analisando a perda de terreno da Microsoft na era Steve Ballmer e recupera√ß√£o sob a gest√£o de Satya Nadella (em ingl√™s).&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://redfin.engineering/node-modules-at-war-why-commonjs-and-es-modules-cant-get-along-9617135eeca1&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Node Modules at War: Why CommonJS and ES Modules Can‚Äôt Get Along (Medium)&lt;/a&gt;&lt;/strong&gt;: Excelente compila√ß√£o dos problemas enfrentados pelos desenvolvedores envolvendo e exist√™ncia dos dois padr√µes JS (em ingl√™s).&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Delegation Pattern em Kotlin]]></title><description><![CDATA[O que √© Delega√ß√£o? Delega√ß√£o √© um padr√£o de arquitetura do software orientado a objetos. Seu objetivo √© estender a funcionalidade de uma‚Ä¶]]></description><link>http://pensandoemcodigos.net/2020/08/07/</link><guid isPermaLink="false">http://pensandoemcodigos.net/2020/08/07/</guid><pubDate>Fri, 07 Aug 2020 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 200px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/e4c60a064b0c9453067b3d7e7e7ae300/0a47e/kotlin.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAAD4UlEQVQ4y43Ua0ybVRgH8LdDDd01kYURE4WoySZmuiUuDGNMpiZzi8mcy5TpELewDh29UN7Sy6AX2tIWYZBRF6J8WaKJM1n4NuKHGb8smnkdW4FSWnrBDUGkSFdQOc/f875tgbJpfJKTk/fkPL885zl5j7Ctcxjl3lG80BrCay1hHDeNo16MwqyLkUMTJVN9EgMWK/3tW0cL3vVY8Cr5rMSiT0l8YNFbyBZ8SoZuaa3QJjzUE0AGDa6g5nHSiBFq0Myi39TJsQKeXChjizJWeH9Mjo9uYS16yDpKR0zT6LP00p9tG5H2bKa0d1M+5uOYNx/j3wpB8AewGt3pHcYu5x04bBcp5XwEKVcxzbu3UtqzhVe44V7Mu4Lx9SwoowEozw9i/bk4TrgvYda2A/OOMiRbS2netY3utj2cQ1dhyjWYFP5bMvaAfxDChTBe7OzHZEsF5qzlmLGXY87xOP5wPiqh4CjjKEPXRqmfWWzDMsZnqYc5bAzPnhtAxLIfSUsFppr34HfrTqlSyqKMowydRbynW2Qs5S5S8JtfhfEo8N/kWAjbu75CwPgWZppewS/mlzFleR6/NT9HOTTpeIKh/TFwVMbmXSWKtGdTPibHhSBKu67hO0MdpvSHETO8jtvGVzFp3kc5dMb6DDHP0+CoXUpJtpYpUu6tiuyRhbwo6b6Or/VmTKprENa/i0TjUUwYDlEGfUlCWdq+G/O2J83S/qums+vgyeSm2oqEe2JA68NEnRZBtRoRbS2iDccpvoweoFlzBRsw+iHW33VL++P2PQr9mb/k6myauGDXxvPB0CkHAu+3YPQDEWPqesqg1Rx9E9OG/XRZ9C/ptdOsrWkODk2sQ8pp0ocFuzqeRROCnY/lGKztwJDKiZG6ZpLQEEfD2lO403CUPhM/ZqrGX0nUx4j/20suQxJ2daJdyhMbEqvQuGDLVXrjRA9u1n5IEjrM0eAZERP1KuoTL7Iq0206bRiHpjGKRo6adPEldwb1yZXqEnmVOjQTgvBTzSeUQTsooHIherqJzoufs4PNCXrbHMF7xgipDFFSN8aW0Wyl8tUYdfmVCj9Uf4ofa/ro55N+jJ30kFfsZ5WtMTpoHcMbZ8N0jKM1xvF/Q9skyKRLKHKocP2dy/Q9R4PVvdQiXmHbPRGqdI5inz1EBzh6eAXFGpS5DLMS6pIcszaLflN1BYGqL0hvuMqKO0P0FH/CdrtHaa8zxNGxHIr7oExGRRl1SqiFo8KNI1/yxl9jBT0jVMKfr7L2EdrB0V0crcyg+J+oQz5yreHbJaF3iB7k7+Hm7iEq5mjpCoq9/4WK+ahNnbD/AzYwcJQeQUYwAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;kotlin-logo&quot;
        title=&quot;kotlin-logo&quot;
        src=&quot;/static/e4c60a064b0c9453067b3d7e7e7ae300/772e8/kotlin.png&quot;
        srcset=&quot;/static/e4c60a064b0c9453067b3d7e7e7ae300/a1812/kotlin.png 50w,
/static/e4c60a064b0c9453067b3d7e7e7ae300/7e516/kotlin.png 100w,
/static/e4c60a064b0c9453067b3d7e7e7ae300/772e8/kotlin.png 200w,
/static/e4c60a064b0c9453067b3d7e7e7ae300/5a46d/kotlin.png 300w,
/static/e4c60a064b0c9453067b3d7e7e7ae300/e17e5/kotlin.png 400w,
/static/e4c60a064b0c9453067b3d7e7e7ae300/0a47e/kotlin.png 600w&quot;
        sizes=&quot;(max-width: 200px) 100vw, 200px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2&gt;O que √© Delega√ß√£o?&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Delegation_pattern&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;&lt;strong&gt;Delega√ß√£o&lt;/strong&gt;&lt;/a&gt; √© um padr√£o de arquitetura do software orientado a objetos. Seu objetivo √© estender a funcionalidade de uma classe delegando essa fun√ß√£o para outro objeto que implemente a mesma interface.&lt;/p&gt;
&lt;!-- Suponha que queremos que uma classe B tenha a funcionalidade da classe A e a condi√ß√£o [is A]() √© satisfeita, ou seja, B seja um tipo de A. --&gt;
&lt;h3&gt;Tipos de delega√ß√£o&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Explicita - Pode ser implementada com qualquer linguagem&lt;/li&gt;
&lt;li&gt;Impl√≠cita - Usa recursos que a linguagem oferece para implementar a delega√ß√£o&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Delega√ß√£o com Kotlin&lt;/h2&gt;
&lt;p&gt;Kotlin oferece instrumentos nativos para implementar delega√ß√£o, tanto de classes como de propriedades.&lt;/p&gt;
&lt;p&gt;Essa caracter√≠stica da linguagem √© interessante porque permite estender a funcionalidade da classe de uma forma menos trabalhosa. N√£o √© necess√°rio implementar os m√©todos das interfaces manualmente.&lt;/p&gt;
&lt;!-- Outro aspecto importante √© que a delega√ß√£o permite implementar **heran√ßa m√∫ltipla**. --&gt;
&lt;h3&gt;A palavra reservada &lt;strong&gt;&lt;em&gt;by&lt;/em&gt;&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;Kotlin usa a palavra reservada &lt;a href=&quot;https://kotlinlang.org/docs/reference/keyword-reference.html&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;&lt;strong&gt;&lt;em&gt;by&lt;/em&gt;&lt;/strong&gt;&lt;/a&gt; para definir a &lt;strong&gt;classe delegada&lt;/strong&gt;.&lt;/p&gt;
&lt;h3&gt;Exemplo de delega√ß√£o de classe&lt;/h3&gt;
&lt;p&gt;Para an√°lise e estudo, veremos um exemplo de delega√ß√£o de classe em Kotlin e em Java implementado de v√°rias formas.&lt;/p&gt;
&lt;h4&gt;Delega√ß√£o sem usar &lt;strong&gt;&lt;em&gt;by&lt;/em&gt;&lt;/strong&gt;&lt;/h4&gt;
&lt;p&gt;Vamos criar uma uma interface &lt;strong&gt;IFacade&lt;/strong&gt; de uma &lt;a href=&quot;https://en.wikipedia.org/wiki/Facade_pattern&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;fachada&lt;/a&gt;, um data class &lt;strong&gt;Connection&lt;/strong&gt; que contem dados de conex√£o e uma classe &lt;strong&gt;IntegrationX&lt;/strong&gt; que implementa o m√©todo de conex√£o dessa interface:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; IFacade &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;connect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;connection&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Connection&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Connection&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; addr&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; String&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;IntegrationX&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;connection&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Connection&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; IFacade &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;override&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;connect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;connection&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Connection&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;connected to &quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; connection&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;addr&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Abaixo vamos utilizar o padr√£o de delega√ß√£o para estender a classe &lt;strong&gt;IntegrationX1&lt;/strong&gt;, sem utilizar os recursos que a linguagem Kotlin nos oferece.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;IntegrationX1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; integrationX&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; IFacade&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; IFacade &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;override&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;connect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        integrationX&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;connect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Reparem em dois pontos fundamentais:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;a classe &lt;strong&gt;delegante (IntegrationX1)&lt;/strong&gt; e a classe &lt;strong&gt;delegada (IntegrationX)&lt;/strong&gt; implementam a mesma interface.&lt;/li&gt;
&lt;li&gt;a classe &lt;strong&gt;delegante (IntegrationX1)&lt;/strong&gt; faz referencia a classe &lt;strong&gt;delegada (IntegrationX)&lt;/strong&gt;. &lt;/li&gt;
&lt;li&gt;a classe &lt;strong&gt;delegante (IntegrationX1)&lt;/strong&gt; implementa o m√©todo da interface, mas quem executa √© a classe &lt;strong&gt;delegada (IntegrationX)&lt;/strong&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;Como ficaria a implementa√ß√£o em Java&lt;/h4&gt;
&lt;p&gt;Escrevendo um pouco mais de c√≥digo, ter√≠amos a mesma classe escrita em Java. Usaremos ela para comparar com o c√≥digo da nossa pr√≥xima classe implementada com a palavra reservada &lt;strong&gt;&lt;em&gt;by&lt;/em&gt;&lt;/strong&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;IntegrationX1&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;IFacade&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;IntegrationX&lt;/span&gt; integrationX&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;IntegrationX1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;IntegrationX&lt;/span&gt; integrationX&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;integrationX &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; integrationX&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;connect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;integrationX&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;connect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;Delega√ß√£o com &lt;strong&gt;&lt;em&gt;by&lt;/em&gt;&lt;/strong&gt;&lt;/h4&gt;
&lt;p&gt;A classe IntegrationX2 implementa o padr√£o de delega√ß√£o utilizando o recurso que a linguagem Kotlin nos oferece. O c√≥digo fica menor, mais limpo e elegante.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;IntegrationX2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;connection&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Connection&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; IFacade &lt;span class=&quot;token keyword&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;IntegrationX&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;connection&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ao gerarmos o &lt;em&gt;bytecode&lt;/em&gt; e decompilarmos o c√≥digo, veremos que a classe gerada se assemelha muito com a classe de exemplo IntegrationX1.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;IntegrationX2&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;IFacade&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
   &lt;span class=&quot;token comment&quot;&gt;// $FF: synthetic field&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;IntegrationX&lt;/span&gt; $$delegate_0&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

   &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;IntegrationX2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@NotNull&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Connection&lt;/span&gt; connection&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token class-name&quot;&gt;Intrinsics&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;checkParameterIsNotNull&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;connection&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;connection&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;$$delegate_0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;IntegrationX&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;connection&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

   &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;connect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;$$delegate_0&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;connect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;O que o compilador fez foi:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;colocar o delegado &lt;strong&gt;IntegrationX&lt;/strong&gt; em um campo &lt;strong&gt;private final&lt;/strong&gt; da classe delegante &lt;strong&gt;IntegrationX2&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;implementar todos os m√©todos da interface &lt;strong&gt;IFacade&lt;/strong&gt; chamando o delegado &lt;strong&gt;IntegrationX&lt;/strong&gt; em cada uma.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Conclus√£o&lt;/h2&gt;
&lt;p&gt;Particularmente eu n√£o acho muito intuitivo o c√≥digo da classe &lt;strong&gt;IntegrationX2&lt;/strong&gt; usando a palavra-chave &lt;strong&gt;by&lt;/strong&gt;, por isso √© importante entender qual a inten√ß√£o e o que est√° acontecendo por tr√°s.&lt;/p&gt;
&lt;h2&gt;Refer√™ncias&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://kotlinlang.org/docs/reference/delegation.html&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Kotlin Delegation&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Leituras (27-02 ago)]]></title><description><![CDATA[Facebook‚Äôs ‚ÄòRed Team‚Äô Hacks Its Own AI Programs (Wired): O trabalho de ‚Äòfurar‚Äô os cada vez mais complexos filtros de intelig√™ncia artificial‚Ä¶]]></description><link>http://pensandoemcodigos.net/2020/08/03/</link><guid isPermaLink="false">http://pensandoemcodigos.net/2020/08/03/</guid><pubDate>Mon, 03 Aug 2020 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://www.wired.com/story/facebooks-red-team-hacks-ai-programs/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Facebook‚Äôs ‚ÄòRed Team‚Äô Hacks Its Own AI Programs (Wired)&lt;/a&gt;&lt;/strong&gt;: O trabalho de ‚Äòfurar‚Äô os cada vez mais complexos filtros de intelig√™ncia artificial do Facebook e Instagram (em Ing√™s).&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://arstechnica.com/information-technology/2020/07/the-rise-and-fall-of-adobe-flash/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;The rise and fall of Adobe Flash (Ars Technica)&lt;/a&gt;&lt;/strong&gt;:
Uma retrospectiva da tecnologia que definiu uma era, pro bem e pro mal (em Ing√™s).&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://stackoverflow.blog/2020/07/30/java-at-25-features-that-made-an-impact-and-a-look-to-the-future&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Java at 25: Features that made an impact and a look to the future (The Overflow)&lt;/a&gt;&lt;/strong&gt;:  As &lt;em&gt;features&lt;/em&gt; que mais fizeram a diferen√ßa em 25 anos de Java (em Ing√™s).&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://braziljournal.com/nubank-compra-cognitect-because-language-matters&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Nubank compra Cognitect (Brazil Journal)&lt;/a&gt;&lt;/strong&gt;:
Por que o Nubank comprou a empresa que criou a linguagem Clojure e o banco de dados Datomic (em Portugu√™s).&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://superhighway.dev/valeri-karpov-interview&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;A Q&amp;#x26;A with Valeri Karpov (superhighway.dev)&lt;/a&gt;&lt;/strong&gt;:
Um pequeno bate-bola com Valeri Karpov sobre MongoDB, Mongoose e sobre a experi√™ncia de editar seus pr√≥prios livros (em Ing√™s).&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Leituras (20-26 jul)]]></title><description><![CDATA[Apple Is Killing A Billion-Dollar Ad Industry With One Popup (Medium: Mac O‚ÄôClock) O lan√ßamento do iOS 14 amea√ßa as funcionalidades‚Ä¶]]></description><link>http://pensandoemcodigos.net/2020/07/27/</link><guid isPermaLink="false">http://pensandoemcodigos.net/2020/07/27/</guid><pubDate>Mon, 27 Jul 2020 00:00:00 GMT</pubDate><content:encoded>&lt;h3&gt;&lt;a href=&quot;https://medium.com/macoclock/apple-is-killing-a-billion-dollar-ad-industry-with-one-popup-2f83d182837f&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Apple Is Killing A Billion-Dollar Ad Industry With One Popup (Medium: Mac O‚ÄôClock)&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;O lan√ßamento do iOS 14 amea√ßa as funcionalidades intrusivas dos aplicativos&lt;/p&gt;
&lt;h3&gt;&lt;a href=&quot;TypeScript%20Types%20Explained%20%E2%80%93%20A%20Mental%20Model%20to%20Help%20You%20Think%20in%20Types&quot;&gt;TypeScript Types Explained ‚Äì A Mental Model to Help You Think in Types (freeCodeCamp)&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Um detalhado texto sobre tipagem em linguagens de programa√ß√£o e mais especificamente em Typescript.&lt;/p&gt;
&lt;h3&gt;&lt;a href=&quot;https://v8.dev/blog/v8-release-85&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;V8 release v8.5 (V8.dev)&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;As novas funcionalidades JS e WebAssembly implementadas na vers√£o v8.5 do V8. &lt;/p&gt;</content:encoded></item><item><title><![CDATA[Leituras (13-19 jul)]]></title><description><![CDATA[The TikTok War (Stratechery) Mais uma excelente an√°lise da Stratechery sobre o TikTok. WeChat Surveillance Explained (The Citizen Lab) Como‚Ä¶]]></description><link>http://pensandoemcodigos.net/2020/07/20/</link><guid isPermaLink="false">http://pensandoemcodigos.net/2020/07/20/</guid><pubDate>Mon, 20 Jul 2020 00:00:00 GMT</pubDate><content:encoded>&lt;h3&gt;&lt;a href=&quot;https://stratechery.com/2020/the-tiktok-war/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;The TikTok War (Stratechery)&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Mais uma excelente an√°lise da Stratechery sobre o TikTok.&lt;/p&gt;
&lt;h3&gt;&lt;a href=&quot;https://citizenlab.ca/2020/05/wechat-surveillance-explained/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;WeChat Surveillance Explained (The Citizen Lab)&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Como o WeChat monitora contas no mundo todo para melhorar seu algoritmo de censura na China.&lt;/p&gt;
&lt;h3&gt;&lt;a href=&quot;https://www.ncsc.gov.uk/blog-post/a-different-future-for-telecoms-in-the-uk&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;A different future for telecoms in the UK (NCSC)&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Como as san√ß√µes comerciais impostas a Huawei afetam a viabilidade de seus projetos futuros e como isso afeta a seguran√ßa de quem usa seus equipamentos.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[JWT, recapitulando conceitos.]]></title><description><![CDATA[O que √© JWT? Json Web Tokens √© uma especifica√ß√£o (RFC 7519) muito popular, que define uma forma compacta, auto-contida e URL Safe de‚Ä¶]]></description><link>http://pensandoemcodigos.net/2020/07/17/</link><guid isPermaLink="false">http://pensandoemcodigos.net/2020/07/17/</guid><pubDate>Fri, 17 Jul 2020 00:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;O que √© JWT?&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/JSON_Web_Token&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Json Web Tokens&lt;/a&gt; √© uma especifica√ß√£o (&lt;a href=&quot;https://tools.ietf.org/html/rfc7519&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;RFC 7519&lt;/a&gt;) muito popular, que define uma forma compacta, auto-contida e &lt;em&gt;URL Safe&lt;/em&gt; de transmitir dados de forma segura, usando JSON.&lt;/p&gt;
&lt;p&gt;JWTs podem ser usados para:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;‚ÄúAfirmar‚Äù a identidade de um usu√°rio entre partes interessadas&lt;/li&gt;
&lt;li&gt;‚ÄúAfirmar‚Äù direitos de um usu√°rio entre partes interessadas&lt;/li&gt;
&lt;li&gt;Transferir dados com seguran√ßa entre partes interessadas por um canal n√£o seguro&lt;/li&gt;
&lt;li&gt;Garantir a identidade de um usu√°rio, uma vez que o destinat√°rio confia na parte que afirma&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;O cen√°rio de utiliza√ß√£o mais comum para &lt;em&gt;JWTs&lt;/em&gt; √© garantir a autoriza√ß√£o de clientes no acesso a &lt;em&gt;APIs REST&lt;/em&gt; de maneira simples e segura.&lt;/p&gt;
&lt;h2&gt;Por que JWTs s√£o t√£o populares?&lt;/h2&gt;
&lt;p&gt;JWT permite difundir e verificar a identidade de um usu√°rio. O protocolo &lt;a href=&quot;https://en.wikipedia.org/wiki/OpenID_Connect&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Open ID Connect&lt;/a&gt; por exemplo, que √© muito popular, utiliza JWTs.&lt;/p&gt;
&lt;p&gt;Assim que o usu√°rio √© autenticado, ele recebe um token JWT, que deve ser enviado em todas as requisi√ß√µes subsequentes. Numa arquitetura web, isso normalmente √© feito usando &lt;strong&gt;&lt;em&gt;local storage&lt;/em&gt;&lt;/strong&gt; ou &lt;strong&gt;&lt;em&gt;cookies&lt;/em&gt;&lt;/strong&gt; e √© enviado no header &lt;strong&gt;Authorization&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Esse esquema de autoriza√ß√£o baseada em tokens permite ao servidor autorizar ou n√£o a requisi√ß√£o, validando o token. A autenticidade do token pode ser verificada porque ele √© &lt;strong&gt;assinado digitalmente&lt;/strong&gt;.&lt;/p&gt;
&lt;h3&gt;O que √© JWS?&lt;/h3&gt;
&lt;p&gt;JWS, ou &lt;strong&gt;JSON Web Signature&lt;/strong&gt;, √© muitas vezes confundido com JWT. Segundo a especifica√ß√£o (&lt;a href=&quot;https://tools.ietf.org/html/rfc7515&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;RFC7515&lt;/a&gt;), JWS √© o token JWT assinado digitalmente. &lt;/p&gt;
&lt;p&gt;O conte√∫do dos dois componentes que formam o JWT (header e payload) passam pelo algoritmo de assinatura digital, gerando o terceiro componente do token, sua assinatura.&lt;/p&gt;
&lt;h2&gt;Componentes de um JWT/JWS&lt;/h2&gt;
&lt;p&gt;O conte√∫do do JWT √© um &lt;em&gt;payload&lt;/em&gt; JSON contendo quaisquer informa√ß√µes que permitam o servidor conceder a autoriza√ß√£o posteriormente.&lt;/p&gt;
&lt;p&gt;O JWT √© divido em 3 segmentos, cada parte codificado em &lt;a href=&quot;https://en.wikipedia.org/wiki/Base64&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;&lt;strong&gt;BASE64URL&lt;/strong&gt;&lt;/a&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;em&gt;header&lt;/em&gt;&lt;/strong&gt; - descreve o algoritmo criptogr√°fico usado para assinar o token e pode conter outros campos adicionais&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;em&gt;payload&lt;/em&gt;&lt;/strong&gt; - pode conter qualquer informa√ß√£o, no formato de &lt;em&gt;claims&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;em&gt;signature&lt;/em&gt;&lt;/strong&gt; (JWS) - assinatura digital, codificado com o algoritmo declarado no &lt;em&gt;header&lt;/em&gt;, que permite validar o JWT&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Claims&lt;/h3&gt;
&lt;p&gt;O &lt;em&gt;payload&lt;/em&gt; do JWT √© formado por &lt;strong&gt;&lt;em&gt;claims&lt;/em&gt;&lt;/strong&gt;, que nada mais s√£o do que afirma√ß√µes sobre o usu√°rio autenticado.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Claims&lt;/em&gt; podem ser customizadas de acordo com o seu caso, mas existem as predefinidas de acordo com a &lt;a href=&quot;http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html#rfc.section.4&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;RFC 7519&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Claims&lt;/em&gt; padronizadas:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;iss - &lt;em&gt;issuer&lt;/em&gt;, emissor&lt;/li&gt;
&lt;li&gt;exp - &lt;em&gt;expiration&lt;/em&gt;, data de expira√ß√£o (&lt;em&gt;timestamp&lt;/em&gt;)&lt;/li&gt;
&lt;li&gt;iat - &lt;em&gt;issued at&lt;/em&gt;, data de emiss√£o (&lt;em&gt;timestamp&lt;/em&gt;)&lt;/li&gt;
&lt;li&gt;nbf - &lt;em&gt;not before&lt;/em&gt;, data de ativa√ß√£o&lt;/li&gt;
&lt;li&gt;jti - identificador √∫nico, evita que o token seja reutilizado&lt;/li&gt;
&lt;li&gt;sub - &lt;em&gt;subject&lt;/em&gt;, assunto&lt;/li&gt;
&lt;li&gt;aud - &lt;em&gt;audience&lt;/em&gt;, audi√™ncia&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Exemplo de &lt;em&gt;header&lt;/em&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;{
  &amp;quot;alg&amp;quot;: &amp;quot;HS256&amp;quot;,
  &amp;quot;typ&amp;quot;: &amp;quot;JWT&amp;quot;
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Exemplo de &lt;em&gt;payload&lt;/em&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;{
  &amp;quot;sub&amp;quot;: &amp;quot;blog&amp;quot;,
  &amp;quot;name&amp;quot;: &amp;quot;Giovani Racca&amp;quot;,
  &amp;quot;iss&amp;quot;: &amp;quot;pensandoemcodigos.net&amp;quot;
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Exemplo de um JWS:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJpYXQiOjE1OTUwMTA0MzAsImV4cCI6MTU5NTAxMDczMCwiaXNzIjoicGVuc2FuZG9lbWNvZGlnb3MubmV0Iiwic3ViIjoiYmxvZyJ9.jUJ8bLTZgBEiGBiRRE2qGGnVfdhNKN18CzgEl17Q8xzJbB5vEQPh2vFTgKpkbgXK0YNBfIj9t-Yj92PF6J6ixA&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;jwt.io&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://jwt.io/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;jwt.io&lt;/a&gt; √© uma ferramenta muito √∫til para visualizar os componentes JWS.&lt;/p&gt;
&lt;h2&gt;Vantagens do JWT/JWS&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;stateless&lt;/em&gt; - o servidor n√£o precisa salvar nenhuma informa√ß√£o de sess√£o do usu√°rio, todas as informa√ß√µes j√° est√£o contidas no token&lt;/li&gt;
&lt;li&gt;desacoplamento - a gera√ß√£o dos tokens √© desacoplada da valida√ß√£o&lt;/li&gt;
&lt;li&gt;flexibilidade - como a especifica√ß√£o do payload √© aberta, a especifica√ß√£o de papeis e permiss√µes no controle de acesso fica muito flex√≠vel&lt;/li&gt;
&lt;li&gt;tamanho - JWTs s√£o pequenos, sendo ideias para serem transmitidos em requisi√ß√µes HTTP&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Refer√™ncias&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://auth0.com/learn/json-web-tokens/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Get Started with JSON Web Tokens&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://jwt.io/introduction/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Introduction to JSON Web Tokens&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/JSON_Web_Token&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;JSON Web Token&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Leituras (29jun-5jul)]]></title><description><![CDATA[The Confessions of Marcus Hutchins, the Hacker Who Saved the Internet (Wired) A incr√≠vel hist√≥ria de Marcus Hutchins, o cara que escreveu o‚Ä¶]]></description><link>http://pensandoemcodigos.net/2020/07/06/</link><guid isPermaLink="false">http://pensandoemcodigos.net/2020/07/06/</guid><pubDate>Mon, 06 Jul 2020 00:00:00 GMT</pubDate><content:encoded>&lt;h3&gt;&lt;a href=&quot;https://www.wired.com/story/confessions-marcus-hutchins-hacker-who-saved-the-internet/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;The Confessions of Marcus Hutchins, the Hacker Who Saved the Internet (Wired)&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;A incr√≠vel hist√≥ria de Marcus Hutchins, o cara que escreveu o &lt;a href=&quot;https://en.wikipedia.org/wiki/Kronos_(malware)&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Kronos&lt;/a&gt; e tamb√©m salvou o mundo do &lt;a href=&quot;https://en.wikipedia.org/wiki/WannaCry_ransomware_attack&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;WannaCry&lt;/a&gt;.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Leituras (22-28 jun)]]></title><description><![CDATA[Apple, ARM, and Intel (Stratechery) Uma an√°lise das implica√ß√µes da decis√£o feita pela Apple de migrar o Mac para a arquitetura ARM. The End‚Ä¶]]></description><link>http://pensandoemcodigos.net/2020/06/29/</link><guid isPermaLink="false">http://pensandoemcodigos.net/2020/06/29/</guid><pubDate>Mon, 29 Jun 2020 00:00:00 GMT</pubDate><content:encoded>&lt;h3&gt;&lt;a href=&quot;https://stratechery.com/2020/apple-arm-and-intel/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Apple, ARM, and Intel (Stratechery)&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Uma an√°lise das implica√ß√µes da decis√£o feita pela Apple de migrar o Mac para a &lt;strong&gt;arquitetura ARM&lt;/strong&gt;.&lt;/p&gt;
&lt;h3&gt;&lt;a href=&quot;https://stratechery.com/2020/the-end-of-os-x&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;The End of OS X (Stratechery)&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Ainda sobre o impacto da Apple de deixar de usar os processadores da Intel, Stratechery faz um balan√ßo hist√≥rico do sistema operacional &lt;strong&gt;OS X&lt;/strong&gt; e projeta seu futuro.&lt;/p&gt;
&lt;h3&gt;&lt;a href=&quot;https://www.protocol.com/rust-programming-safety-security&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;The programming language that wants to rescue the world from dangerous code (Protocol)&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;Rust&lt;/strong&gt; ganha cada vez mais adeptos gra√ßas as suas caracter√≠sticas focadas em seguran√ßa.&lt;/p&gt;
&lt;h3&gt;&lt;a href=&quot;https://www.protocol.com/amazon-aws-honeycode-low-code-no-code&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;No code, no problem? AWS wants to sell you a world of prefab software (Protocol)&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Amazon entra no mercado de &lt;strong&gt;no code&lt;/strong&gt;.&lt;/p&gt;
&lt;h3&gt;&lt;a href=&quot;https://www.dtibr.com/post/discrimina%C3%A7%C3%A3o-algor%C3%ADtmica-origens-conceitos-e-perspectivas-regulat%C3%B3rias-parte-1&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Discrimina√ß√£o algor√≠tmica: origens, conceitos e perspectivas regulat√≥rias (parte 1) (DTIBR)&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Artigo conceituando &lt;strong&gt;discrimina√ß√£o algor√≠tmica&lt;/strong&gt;?&lt;/p&gt;</content:encoded></item><item><title><![CDATA[O que √© o Deno?]]></title><description><![CDATA[Deno √© o novo projeto do criador do NodeJs. Ryan Dahl vem desde o fim de 2018 trabalhando nesse novo runtime para javascript e typescript‚Ä¶]]></description><link>http://pensandoemcodigos.net/2020/06/25/</link><guid isPermaLink="false">http://pensandoemcodigos.net/2020/06/25/</guid><pubDate>Thu, 25 Jun 2020 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 200px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/e245c027e857e6c66745f4db657ddf76/21b4d/deno.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAAB0ElEQVQ4y5WVTShEURTHZ3xOyscsRLJhI2Jla2tnI7G0VHZ2IrJQirVsrCgUKQkLssD4yEZmykdDM8woM418E2N6/qf+T6fXe2bm1q/33p1zz/mfc8+943I5jxyQazMvc25XFsNNZ9pxESi0cZx2aEctYAocggC4AGtgGFSr4GmdiZpZ8AwM8A6CIEWnMvcC+tKlKaMEHHPRGbgBO+AUXINVEAVx8AXGnZSaE3NUlKKDPXDAtPfBFbhlsAAD91hrar50gTuwThXiMEYl51z8AHycC4Mk1Xq1MFPdCvBzsa6Vj0E+ORfm76I24aRSahcBu+CRhhKgCRQwaAVYpoMjcMmnfM9bu6QWvIIQN2IE5IF6UGqp9wn4Zkn8VLpl3ZQaGj3RsM6mEzx8dlPVB8sgAjatxsUseJwOt0EbaAbtoB9U0baRm2LwGWXf/qVsboqcgh9wT+M31dwDKngZMzEoQOx79aaYO9NBoxj7MKkWDioFHtWDQWZU6dTgGzRMUG2I32NKgYfZGE4toz17VfQI+1DeRy2BFzg/mcnlIG2ypNI12EYuptbJoEM2gv69vlrBNE+OnOkZsAgmQEMmzrSB23KRSinKQX62F6xVbU62fwG/rYiSN2Scl0oAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;deno&quot;
        title=&quot;deno&quot;
        src=&quot;/static/e245c027e857e6c66745f4db657ddf76/772e8/deno.png&quot;
        srcset=&quot;/static/e245c027e857e6c66745f4db657ddf76/a1812/deno.png 50w,
/static/e245c027e857e6c66745f4db657ddf76/7e516/deno.png 100w,
/static/e245c027e857e6c66745f4db657ddf76/772e8/deno.png 200w,
/static/e245c027e857e6c66745f4db657ddf76/5a46d/deno.png 300w,
/static/e245c027e857e6c66745f4db657ddf76/e17e5/deno.png 400w,
/static/e245c027e857e6c66745f4db657ddf76/21b4d/deno.png 1280w&quot;
        sizes=&quot;(max-width: 200px) 100vw, 200px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://deno.land/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Deno&lt;/a&gt; √© o novo projeto do criador do &lt;a href=&quot;https://nodejs.org/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;NodeJs&lt;/a&gt;. &lt;a href=&quot;https://en.wikipedia.org/wiki/Ryan_Dahl&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Ryan Dahl&lt;/a&gt; vem desde o fim de 2018 trabalhando nesse novo &lt;em&gt;runtime&lt;/em&gt; para &lt;strong&gt;javascript&lt;/strong&gt; e &lt;strong&gt;typescript&lt;/strong&gt;, que muitos apontam como o poss√≠vel sucessor do Node.&lt;/p&gt;
&lt;h2&gt;Motiva√ß√£o&lt;/h2&gt;
&lt;p&gt;NodeJs √© um projeto lan√ßado em 2009, quando o universo do Javascript era bem diferente. A linguagem javascript mudou muito de l√° pra c√°, como com a cria√ß√£o de &lt;em&gt;promisses&lt;/em&gt; e &lt;em&gt;async/await&lt;/em&gt;. &lt;a href=&quot;https://pt.wikipedia.org/wiki/TypeScript&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Typescript&lt;/a&gt; ent√£o s√≥ surgiu em 2012.&lt;/p&gt;
&lt;p&gt;Com novas tecnologias e o avan√ßo de linguagens de programa√ß√£o somadas a experiencia conquistada durante anos no projeto NodeJs, √© natural que existam arrependimentos, mesmo num projeto de indiscut√≠vel sucesso.&lt;/p&gt;
&lt;p&gt;Em junho de 2018 Ryan Dahl deu uma &lt;a href=&quot;https://www.youtube.com/watch?v=M3BM9TB-8yA&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;palestra&lt;/a&gt; onde relatava coisas que ele gostaria de ter feito diferente no NodeJs.&lt;/p&gt;
&lt;h2&gt;Caracter√≠sticas&lt;/h2&gt;
&lt;p&gt;A &lt;a href=&quot;https://deno.land/v1&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;vers√£o 1.0&lt;/a&gt; do novo &lt;em&gt;runtime&lt;/em&gt; foi lan√ßada em maio. Abaixo destaco alguns pontos.&lt;/p&gt;
&lt;h3&gt;&lt;em&gt;Core&lt;/em&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Deno foi escrito em &lt;strong&gt;Rust&lt;/strong&gt;, Node em C++&lt;/li&gt;
&lt;li&gt;Deno usa o &lt;em&gt;event loop&lt;/em&gt; &lt;strong&gt;Tokyo&lt;/strong&gt;, desenvolvido em Rust&lt;/li&gt;
&lt;li&gt;Deno suporta &lt;strong&gt;Typescript&lt;/strong&gt; nativamente&lt;/li&gt;
&lt;li&gt;Deno usa &lt;strong&gt;V8&lt;/strong&gt; como runtime, assim como Node&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Seguran√ßa&lt;/h3&gt;
&lt;p&gt;Uma das caracter√≠sticas mais importantes no Deno foi a seguran√ßa. Ao contr√°rio do Node, o c√≥digo Deno executa em uma &lt;strong&gt;&lt;em&gt;sandbox&lt;/em&gt;&lt;/strong&gt;, ou seja, em tempo de execu√ß√£o o programa n√£o tem acesso aos recursos da m√°quina.&lt;/p&gt;
&lt;p&gt;√â necess√°rio dar permiss√£o para que o programa escrito em Deno tenha acesso ao sistema de arquivos, √† rede, √†s vari√°veis de ambiente e permiss√£o para executar programas externos. Ao tentar acessar um dos recursos, o sistema pedir√° permiss√£o desde que uma da seguintes flags n√£o tenha sido utilizada ao executar o programa:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;para o sistema de arquivos, &lt;strong&gt;‚Äîallow-write&lt;/strong&gt; &lt;/li&gt;
&lt;li&gt;para rede, &lt;strong&gt;‚Äîallow-net&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;para as vari√°veis de ambiente, &lt;strong&gt;‚Äîallow-env&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;para executar programas externos, &lt;strong&gt;‚Äîallow-run&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Modules&lt;/h3&gt;
&lt;p&gt;Deno importa bibliotecas por URLs. Isso permite que os programas sejam distribu√≠dos sem a necessidade de um reposit√≥rio central de programas, como npm, maven, etc. Ou seja, com Deno, n√£o temos mais &lt;strong&gt;npm&lt;/strong&gt; nem &lt;strong&gt;node_modules&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Quando a aplica√ß√£o √© inicializada, o &lt;em&gt;runtime&lt;/em&gt; daz download de todas as bibliotecas utilizadas.
As bibliotecas baixadas s√£o colocadas em um &lt;strong&gt;cache&lt;/strong&gt; para agilizar as proximas execu√ß√µes. Para for√ßar um novo download, foi criada a flag &lt;strong&gt;‚Äîreload&lt;/strong&gt;.&lt;/p&gt;
&lt;h3&gt;Assincronismo&lt;/h3&gt;
&lt;p&gt;A promessa √© de que com Deno seja mais f√°cil trabalhar com c√≥digo ass√≠ncrono, j√° que a sua implementa√ß√£o foi pensada com isso em mente, ao contr√°rio do node.&lt;/p&gt;
&lt;h2&gt;Limita√ß√µes&lt;/h2&gt;
&lt;p&gt;A publica√ß√£o da vers√£o 1.0 deixa claro que existem limita√ß√µes de uso para projetos que necessitam de solu√ß√µes mais maduras.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Comparado com Node, a performance de processamento HTTP pode ser inferior.&lt;/li&gt;
&lt;li&gt;A performance do compilador pode ser outro gargalo, j√° que o Deno utiliza o compilador de Typescript da Microsoft. Um novo compilador escrito em Rust est√° nos objetivos futuros.&lt;/li&gt;
&lt;li&gt;Ainda est√° em desenvolvimento uma interface para cria√ß√£o de extens√µes.&lt;/li&gt;
&lt;li&gt;Apesar de serem escritos em javascript, os pacotes escritos para Node ainda n√£o s√£o totalmente compat√≠veis. Para atingir esse objetivo, uma &lt;a href=&quot;https://deno.land/std/node/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;camada de compatibilidade&lt;/a&gt; est√° sendo desenvolvida.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Conclus√£o&lt;/h2&gt;
&lt;p&gt;Ainda √© cedo para projetar o futuro do Deno. Ao mesmo tempo que muitos celebraram o lan√ßamento, tamb√©m houve muita controv√©rsia.&lt;/p&gt;
&lt;p&gt;NodeJs tem mais de 10 anos de desenvolvimento, milhares de desenvolvedores trabalhando na sua evolu√ß√£o e no seu ecossistema. N√£o existe motivo para troca e escolhe-lo para um novo projeto critico seria um risco.&lt;/p&gt;
&lt;p&gt;√â importante acompanhar novas tecnologias e ver se elas passar√£o no ‚Äúteste‚Äù do tempo. E mesmo que n√£o passem, elas podem apontar novas tendencias. Por exemplo, abandonar o NPM e n√£o usar nenhum gerenciador de bibliotecas e todas as suas vantagens, √© uma mudan√ßa de impacto. Como as comunidades de desenvolvedores v√£o reagir e se adaptar? Qual o custo-beneficio?&lt;/p&gt;
&lt;p&gt;Cada mudan√ßa √© uma oportunidade de aprendizado. Por enquanto, vale a pena acompanhar.&lt;/p&gt;
&lt;p&gt;¬†&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Leituras (15-21 jun)]]></title><description><![CDATA[How a Chinese AI Giant Made Chatting‚Äîand Surveillance‚ÄîEasy (Wired) A incr√≠vel hist√≥ria da empresa chinesa de tecnologia de reconhecimento de‚Ä¶]]></description><link>http://pensandoemcodigos.net/2020/06/21/</link><guid isPermaLink="false">http://pensandoemcodigos.net/2020/06/21/</guid><pubDate>Sun, 21 Jun 2020 00:00:00 GMT</pubDate><content:encoded>&lt;h3&gt;&lt;a href=&quot;https://www.wired.com/story/iflytek-china-ai-giant-voice-chatting-surveillance/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;How a Chinese AI Giant Made Chatting‚Äîand Surveillance‚ÄîEasy (Wired)&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;A incr√≠vel hist√≥ria da empresa chinesa de tecnologia de reconhecimento de voz, iFlytek. Seu impacto no mercado dominado pela Alexa, Siri e Google Assistant, e o perigo da vigil√¢ncia cada vez maior por parte do Estado e dessas empresas.&lt;/p&gt;
&lt;h3&gt;&lt;a href=&quot;https://www.theatlantic.com/magazine/archive/2020/07/big-tech-pandemic-power-grab/612238/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;What Big Tech Wants Out of the Pandemic (The Atlantic)&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Uma an√°lise de como as &lt;em&gt;big four&lt;/em&gt;, Google, Facebook, Apple e Amazon, podem consolidar ainda mais seus monop√≥lios nessa pandemia.&lt;/p&gt;
&lt;h3&gt;&lt;a href=&quot;https://braziljournal.com/whatsapp-entra-em-pagamentos-mas-nem-tudo-e-o-que-parece&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Whatsapp entra em pagamentos, mas nem tudo √© o que parece (Brazil Journal)&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Whatsapp lan√ßa carteira digital no Brasil.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Usando o AWS S3 com NodeJS]]></title><description><![CDATA[Muitas aplica√ß√µes t√™m como requisito o armazenamento de arquivos. Podem ser arquivos para download ou a necessidade de gurda de documentos‚Ä¶]]></description><link>http://pensandoemcodigos.net/2020/06/10/</link><guid isPermaLink="false">http://pensandoemcodigos.net/2020/06/10/</guid><pubDate>Wed, 10 Jun 2020 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 200px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/21f429bb78c18fb85431e27731ce306e/a2ead/s3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 74%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsSAAALEgHS3X78AAACK0lEQVQoz2P4jwr+/f3778/v///+ff/08fTsyc8WTP/38cNfIPjz5//fv2iKGf5jAJC6//+31pa0ynBfttF601YFMvTfP0yVCM3//oEMvrppzd36kl/7dqxMCmvVlr7ta/uiKPXsmqXbSjLfbVqFZgoDsoOB5MaSzNMW6s/97fc6m3QbqncYqM230GzTkupSEHhckU1A8/baonOups8iPC/72u1zM1tjrz/XUqvbRG2SvsKThlICmrdWF5x1NnoV6bnIWqfNQPFRsPNlP7sOI+WJOrJP64uJ1bzcRrdTX+G2v/1ZH+tOYxWiNAOdfd7N7Fmk5/Ugp5PBLpu8rGdb63Sbqk02UHjaWEpMgKk9C7A/HOB4sijtdnXBLn8HYLB3KfDjDDCgECR67x898GTWxP/XL69MjWrTkLztbf2yNP3uicPHJ3V9OLQHkgr+wVILQjMEgNhgU/Z2N3epil5xNno3qQOiAksigWj4+vXr9evXgYyfP378/vUTaPz3b9+url/5fMPKf79+/PjxHSh188aNS5cu3QYDiH0Mf8FuOH/+fG1t7e7du+fMmbNly5bFixfv2LFj667d2/btX7l69dKlS588ebJv374FCxacOHFiyZIlUM0Qm48ePQpUDVR04cIFIKOzs3PO7NlrV6/evHHDgvnzz5w5A7Tt4sWLQAXbt2/ftWsXip8h9v8BBgYY/Pr16/v37yDnfv/++/dviAU/f/4Ecn+CAUQXAJw30fPn3lg/AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;aws-s3&quot;
        title=&quot;aws-s3&quot;
        src=&quot;/static/21f429bb78c18fb85431e27731ce306e/772e8/s3.png&quot;
        srcset=&quot;/static/21f429bb78c18fb85431e27731ce306e/a1812/s3.png 50w,
/static/21f429bb78c18fb85431e27731ce306e/7e516/s3.png 100w,
/static/21f429bb78c18fb85431e27731ce306e/772e8/s3.png 200w,
/static/21f429bb78c18fb85431e27731ce306e/a2ead/s3.png 259w&quot;
        sizes=&quot;(max-width: 200px) 100vw, 200px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Muitas aplica√ß√µes t√™m como requisito o armazenamento de arquivos. Podem ser arquivos para download ou a necessidade de gurda de documentos enviados pelo usu√°rio por exemplo. Hoje em dia existem v√°rios provedores de armazenamento em nuvem como &lt;a href=&quot;https://aws.amazon.com/pt/s3/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;AWS S3&lt;/a&gt;, &lt;a href=&quot;https://cloud.google.com/storage&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Google Cloud Storage&lt;/a&gt;, &lt;a href=&quot;https://azure.microsoft.com/pt-br/services/storage/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Azure Storage&lt;/a&gt; etc.&lt;/p&gt;
&lt;p&gt;A Amazon disponibiliza bibliotecas em v√°rias linguagens para que os desenvolvedores usem os servi√ßos da AWS atrav√©s de seus sistemas.&lt;/p&gt;
&lt;p&gt;Vamos ver um r√°pido exemplo em &lt;a href=&quot;https://nodejs.org/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;NodeJs&lt;/a&gt; de como fazer download e upload de arquivos para um bucket S3 utilizando o &lt;a href=&quot;https://github.com/aws/aws-sdk-js&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;SDK AWS para Javascript&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;O que √© S3&lt;/h2&gt;
&lt;p&gt;S3 ou &lt;em&gt;Simple Storage Service&lt;/em&gt; √© um servi√ßo de armazenamento de objetos por meio de servi√ßos REST, focado em performance e escalabilidade. Assim, o servi√ßo oferece alta disponibilidade e permite que clientes de todos os tamanhos e com diversas necessidades usufruam do servi√ßo. Os casos de uso poss√≠veis v√£o desde backup a guarda de documentos para sites e aplicativos.&lt;/p&gt;
&lt;p&gt;Para o armazenamento, a Amazon usa o conceito de &lt;strong&gt;&lt;em&gt;bucket&lt;/em&gt;&lt;/strong&gt;, que nada mais √© que um recipiente para os objetos armazenados. Podem ser criados quantos buckets forem necess√°rios e eles oferecem controle de acesso individual e logs de acesso. Tamb√©m √© poss√≠vel escolher a regi√£o geogr√°fica onde os objetos s√£o armazenados.&lt;/p&gt;
&lt;p&gt;Ao armazenar um objeto, √© necess√°rio criar uma chave (&lt;strong&gt;&lt;em&gt;key&lt;/em&gt;&lt;/strong&gt;) associada, para depois recuper√°-lo.&lt;/p&gt;
&lt;h2&gt;Vamos ao c√≥digo&lt;/h2&gt;
&lt;p&gt;O primeiro passo √© importar a biblioteca AWS e configurar as credenciais de acesso ao AWS.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; aws &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;aws-sdk&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

aws&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;config&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 accessKeyId&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;S3_ACCESS_KEY&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
 secretAccessKey&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;S3_ACCESS_SECRET&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;Upload&lt;/h4&gt;
&lt;p&gt;Para o upload, criamos um objeto com os par√¢metros que devem ser passados para a fun√ß√£o &lt;strong&gt;upload&lt;/strong&gt; da sdk. Devemos passar:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Bucket: string que representa o nome do bucket (o bucket j√° deve ter sido criado)&lt;/li&gt;
&lt;li&gt;Body: um objeto do tipo &lt;a href=&quot;https://nodejs.org/api/stream.html#stream_readable_streams&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Readable Stream&lt;/a&gt;. No caso estamos criando esse stream a partir do caminho f√≠sico do arquivo.&lt;/li&gt;
&lt;li&gt;Key: string que representa a chave. O arquivo criado vai ter o nome da chave e no caso abaixo estamos criando o arquivo na pasta ‚Äòs3-demo‚Äô.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; params &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  Bucket&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;nomeDoBucket&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  Body &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; fs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createReadStream&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./teste1.txt&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  Key &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;s3-demo/teste1.txt&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Para executar o upload primeiro criamos o objeto S3 chamando seu construtor e depois chamamos a &lt;a href=&quot;https://docs.aws.amazon.com/AWSJavaScriptSDK/latest/AWS/S3.html#upload-property&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;fun√ß√£o&lt;/a&gt; dispon√≠vel na interface &lt;a href=&quot;https://docs.aws.amazon.com/AWSJavaScriptSDK/latest/AWS/S3.html&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;S3&lt;/a&gt;. Se a opera√ß√£o for bem sucedida, recebemos no callback o objeto data com v√°rias informa√ß√µes do objeto armazenado, incluindo um link direto para acesso.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; s3 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;aws&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;S3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
s3&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;upload&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;params&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; data&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; 
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Erro: &quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// sucesso&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; 
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Uploaded em: &quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Location&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Chave: &quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;Download&lt;/h4&gt;
&lt;p&gt;Para o download precisamos passar como par√¢metro o nome do bucket e a chave.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; options &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    Bucket&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;nomeDoBucket&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    Key&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;s3-demo/teste1.txt&apos;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Para executar o download tamb√©m fazemos uso da interface S3 para chamar a &lt;a href=&quot;https://docs.aws.amazon.com/AWSJavaScriptSDK/latest/AWS/S3.html#getObject-property&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;fun√ß√£o&lt;/a&gt;. Se a opera√ß√£o for bem sucedida, recebemos o arquivo serializado, bastando criar um &lt;a href=&quot;https://nodejs.org/api/stream.html#stream_writable_streams&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Writable Stream&lt;/a&gt; e gravar o arquivo em disco.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; s3 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;aws&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;S3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; file &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;fs&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createWriteStream&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/tmp/test.csv&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
s3&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getObject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;options&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createReadStream&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;pipe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;file&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

fileStream&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;error&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Projeto Demo&lt;/h2&gt;
&lt;p&gt;O projeto &lt;a href=&quot;https://github.com/giovanibr/aws-node-demo&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;aws-node-demo&lt;/a&gt; √© uma aplica√ß√£o NodeJS b√°sica com &lt;a href=&quot;https://expressjs.com/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Express&lt;/a&gt; que disponibiliza 2 endpoints para upload e download na AWS.&lt;/p&gt;
&lt;p&gt;¬†&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Tutorial: Implementando filas de tarefas com Bull]]></title><description><![CDATA[Um tutorial passando pelos pontos b√°sicos da utiliza√ß√£o da biblioteca Bull para gerenciar filas de tarefas ass√≠ncronas em aplica√ß√µes NodeJs‚Ä¶]]></description><link>http://pensandoemcodigos.net/2020/05/31/</link><guid isPermaLink="false">http://pensandoemcodigos.net/2020/05/31/</guid><pubDate>Sun, 31 May 2020 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 200px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c24d7a53f1ab2b059a7044d186ef5270/0a47e/bull.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 34%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsSAAALEgHS3X78AAABXUlEQVQozz3RzStEURzG8dOMhSws5I5BWdlYc2eMLfKSpY2UwsJCpCilGEamlBWlZgZTGG8LL0WUaCZNZO0fIBayYWFjzP353jNn3Pr0e+Z2znPvmat8TXM9GFDmIvtQ7ubK0JJH39yQEhV3KlRCPPCiDKVmev/vmYJ6VKMVe/jCO7qKD6Gsnw05lXCSWCHvYAtXKi5tTBvnxcJJpH32glQFFoUsbnanFYz06UUJGaf0hnmBW0qPcEx+pLCb2YJssfC5KhgVq3E279OF4UK2I2LZ4VxN3XA7i4cp/AVFso4THOoSXeiEkFEvji688zcvu2/0iRQ+8KNnICL+honVkuhbRG3Kk4rnTwtFzoEpvKew1Rw5XXzDa+wjY34vYRTTlj1/qRclZcQc+bxwZDkzshjiAZ14INe6BVOmaAYxNKMDY/8fJZYfVAcibEqxqVdtu1nWsKtSOrt/xTde/wA7m+RfmknkowAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;bull&quot;
        title=&quot;bull&quot;
        src=&quot;/static/c24d7a53f1ab2b059a7044d186ef5270/772e8/bull.png&quot;
        srcset=&quot;/static/c24d7a53f1ab2b059a7044d186ef5270/a1812/bull.png 50w,
/static/c24d7a53f1ab2b059a7044d186ef5270/7e516/bull.png 100w,
/static/c24d7a53f1ab2b059a7044d186ef5270/772e8/bull.png 200w,
/static/c24d7a53f1ab2b059a7044d186ef5270/5a46d/bull.png 300w,
/static/c24d7a53f1ab2b059a7044d186ef5270/e17e5/bull.png 400w,
/static/c24d7a53f1ab2b059a7044d186ef5270/0a47e/bull.png 600w&quot;
        sizes=&quot;(max-width: 200px) 100vw, 200px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Um tutorial passando pelos pontos b√°sicos da utiliza√ß√£o da biblioteca &lt;a href=&quot;https://github.com/OptimalBits/bull&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Bull&lt;/a&gt; para gerenciar filas de tarefas ass√≠ncronas em aplica√ß√µes &lt;a href=&quot;https://nodejs.org/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;NodeJs&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;O que √© Bull?&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/OptimalBits/bull&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Bull&lt;/a&gt; √© uma biblioteca NodeJS que implementa um r√°pido e confi√°vel gerenciador de filas de tarefas (&lt;em&gt;job&lt;/em&gt;).&lt;/p&gt;
&lt;h4&gt;Filas&lt;/h4&gt;
&lt;p&gt;Fila √© uma estrutura de dados muito utilizada no desenvolvimento de aplica√ß√µes e √© definida de forma simples como: o primeiro elemento que entra na fila √© o primeiro que sai. O termo que utilizamos em ingl√™s para esse algoritmo √© &lt;a href=&quot;https://pt.wikipedia.org/wiki/FIFO&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;FIFO&lt;/a&gt; (&lt;em&gt;first In, first out&lt;/em&gt;).&lt;/p&gt;
&lt;p&gt;Filas de tarefas ass√≠ncronas s√£o muito utilizadas em arquiteturas de sistemas como forma de delegar tarefas para outros processos e liberar a execu√ß√£o do processo principal. Em aplica√ß√µes web, o cliente fica aguardando uma requisi√ß√£o http e o servidor pode utilizar uma fila de tarefas para responder a requisi√ß√£o, delegando tarefas demoradas, como envio de emails, para outros sistemas que ir√£o consumir as tarefas da fila.&lt;/p&gt;
&lt;!-- Vantagem do uso de filas: processamento ass√≠ncrono, paralelismo, falhas... --&gt;
&lt;h4&gt;Redis&lt;/h4&gt;
&lt;p&gt;&lt;a href=&quot;https://redis.io/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Redis&lt;/a&gt; √© um banco de dados &lt;em&gt;NoSQL&lt;/em&gt; muito popular e perform√°tico que armazena os dados numa estrutura chave-valor. O Bull utiliza Redis como infraestrutura para controlar e persistir as filas. Assim √© necess√°rio o endere√ßo de uma inst√¢ncia Redis no ar.&lt;/p&gt;
&lt;p&gt;N√£o √© necess√°rio entender como Bull usa e persiste as filas no Redis, tudo fica abstra√≠do.&lt;/p&gt;
&lt;h2&gt;Tutorial&lt;/h2&gt;
&lt;p&gt;Nesse tutorial, vamos ver os pontos fundamentais do c√≥digo relativos ao uso do Bull. Para ver a aplica√ß√£o completa, veja o projeto &lt;a href=&quot;https://github.com/giovanibr/bull-demo&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;bull-demo&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;Cria√ß√£o da fila&lt;/h4&gt;
&lt;p&gt;O primeiro passo √© criar a pr√≥pria fila de tarefas.&lt;/p&gt;
&lt;p&gt;Importe a biblioteca e instancie uma nova fila passando nos par√¢metros o endere√ßo do seu servidor Redis. O construtor &lt;strong&gt;Queue&lt;/strong&gt; aceita muitos par√¢metros opcionais para customizar o comportamento da fila. Para mais detalhes, veja &lt;a href=&quot;https://github.com/OptimalBits/bull/blob/develop/REFERENCE.md#queue&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;REFERENCE.md#queue&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; Queue &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;bull&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; minhaFila &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Queue&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;minhaFila&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    redis&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        host&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;127.0.0.1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        port&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;6379&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    prefix&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;bulldemo&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;Adicionando trabalhos a fila&lt;/h4&gt;
&lt;p&gt;O segundo passo √© definir a inclus√£o da tarefa na fila. &lt;/p&gt;
&lt;p&gt;A fila criada tem um m√©todo &lt;strong&gt;queue.add()&lt;/strong&gt; para adicionar tarefas. Esse m√©todo recebe um objeto espec√≠fico de neg√≥cio (um email a ser enviado ou um lote a ser processado por exemplo) e tamb√©m pode receber op√ß√µes onde √© poss√≠vel programar o comportamento da tarefa na fila como tempo de espera, um numero de tentativas no caso de erro, etc. Para ver mais op√ß√µes, consultar &lt;a href=&quot;https://github.com/OptimalBits/bull/blob/develop/REFERENCE.md#queueadd&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;REFERENCE.md#queueadd&lt;/a&gt;. &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; options &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    delay&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 10 seg in ms&lt;/span&gt;
    attempts&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; dadosJob &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token string&quot;&gt;&quot;numero&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;12345&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

minhaFila&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;dadosJob&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; options&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;Defini√ß√£o do consumidor&lt;/h4&gt;
&lt;p&gt;O terceiro passo √© definir quem vai tratar as tarefas da fila.&lt;/p&gt;
&lt;p&gt;O consumidor √© definido por uma fun√ß√£o que vai ser chamada toda vez que uma tarefa for retirada da fila de acordo com as configura√ß√µes. Essa fun√ß√£o recebe como par√¢metros a tarefa &lt;strong&gt;job&lt;/strong&gt;, e o &lt;em&gt;callback&lt;/em&gt; opcional &lt;strong&gt;done&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;A instancia da tarefa cont√™m todos os dados relativos a sua execu√ß√£o. Os dados que foram passados na cria√ß√£o da tarefa podem ser acessados pela propriedade &lt;strong&gt;job.data&lt;/strong&gt;. Para ver todas as propriedades e m√©todos do objeto, ver &lt;a href=&quot;https://github.com/OptimalBits/bull/blob/develop/REFERENCE.md#job&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;REFERENCE.md#job&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;O &lt;em&gt;callback&lt;/em&gt; &lt;strong&gt;done&lt;/strong&gt; permite concluir a tarefa com √™xito ou com erro, dependendo do que vai ser feito com os dados passados.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;job&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; done&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;//progresso&lt;/span&gt;
    job&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;progress&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;// chamada de sucesso &lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;done&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Feito&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;// ou chamada de erro&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;done&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Deu erro!&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;// ou erro n√£o tratado, Bull reage do msm jeito&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Erro inesperado&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;A fun√ß√£o tamb√©m pode trabalhar com &lt;em&gt;promisses&lt;/em&gt; ao inv√©s do &lt;em&gt;callback&lt;/em&gt;. &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;job&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;resolve&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; reject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// sucesso &lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;//resolve(&quot;Feito&quot;);&lt;/span&gt;

        &lt;span class=&quot;token comment&quot;&gt;// erro&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;reject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Deu erro!&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        erro n√£o tratado&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Bull reage &lt;span class=&quot;token keyword&quot;&gt;do&lt;/span&gt; msm jeito
        &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Erro inesperado&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;Defini√ß√£o dos &lt;em&gt;event listeners&lt;/em&gt;&lt;/h4&gt;
&lt;p&gt;O √∫ltimo passo √© definir callbacks para os eventos da fila.&lt;/p&gt;
&lt;p&gt;A fila emite eventos que s√£o muito √∫teis. Podemos programar a√ß√µes para cada etapa no ciclo de vida da tarefa (esperando, ativa, finalizada). Podemos tamb√©m definir o que vai ser feito no caso de erro. &lt;/p&gt;
&lt;p&gt;Para uma lista com todos os eventos, consultar &lt;a href=&quot;https://github.com/OptimalBits/bull/blob/develop/REFERENCE.md#events&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;REFERENCE.md#events&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;//   caminho feliz [waiting, active, completed]&lt;/span&gt;
minhaFila&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;waiting&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token parameter&quot;&gt;job&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Job recebido!&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

minhaFila&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;active&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;job&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; jobPromise&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;Job come√ßou&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

minhaFila&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;completed&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;job&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; result&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;result&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;, job finalizado com sucesso&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// remove job da fila&lt;/span&gt;
    job&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;remove&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

minhaFila&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;failed&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;job&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;Job falhou&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; error&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// retry&lt;/span&gt;
    job&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;retry&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Projeto Demo&lt;/h2&gt;
&lt;p&gt;O projeto &lt;a href=&quot;https://github.com/giovanibr/bull-demo&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;bull-demo&lt;/a&gt; est√° funcional e imprime no console todos as etapas do ciclo de vida da tarefa. Ele √© uma aplica√ß√£o NodeJS b√°sica com &lt;a href=&quot;https://expressjs.com/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Express&lt;/a&gt; com um endpoint POST, que recebe os dados da tarefa e coloca na fila.&lt;/p&gt;
&lt;h2&gt;Refer√™ncias&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://optimalbits.github.io/bull/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Bull‚Äôs Guide&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/OptimalBits/bull&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Bull‚Äôs Github&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Fun√ß√µes em Javascript: entidades de primeira classe]]></title><description><![CDATA[Em linguagens de programa√ß√£o, define-se uma entidade de primeira classe (first-class citizens) como a entidade em que √© permitido realizar‚Ä¶]]></description><link>http://pensandoemcodigos.net/2020/05/18/</link><guid isPermaLink="false">http://pensandoemcodigos.net/2020/05/18/</guid><pubDate>Mon, 18 May 2020 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 200px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b914ee62e5d19e111adf39f2f0c64b27/9c177/js.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 36%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAAsSAAALEgHS3X78AAAAq0lEQVQY02N4/b8GK3oDQrVv/9d+/F//BocaBlw6n/+ufvyt8tGXipM38579rHpDpOZX/2o+/K+7/KRo+ZaEeStjVu9IevilAugEoDgxmqu//G+4+axk6eb4EzfzFq6Nvf229B0xmoEqgOpuvSldvzd5xZaEm69LwZYnfv3f8PJvNVGa77wr23QgFejn49dztx9Ne/aLaD8DEVA/0OVAfwI9//l/AzDYsSoDABh0RmcopNcOAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;js&quot;
        title=&quot;js&quot;
        src=&quot;/static/b914ee62e5d19e111adf39f2f0c64b27/772e8/js.png&quot;
        srcset=&quot;/static/b914ee62e5d19e111adf39f2f0c64b27/a1812/js.png 50w,
/static/b914ee62e5d19e111adf39f2f0c64b27/7e516/js.png 100w,
/static/b914ee62e5d19e111adf39f2f0c64b27/772e8/js.png 200w,
/static/b914ee62e5d19e111adf39f2f0c64b27/5a46d/js.png 300w,
/static/b914ee62e5d19e111adf39f2f0c64b27/e17e5/js.png 400w,
/static/b914ee62e5d19e111adf39f2f0c64b27/9c177/js.png 880w&quot;
        sizes=&quot;(max-width: 200px) 100vw, 200px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Em linguagens de programa√ß√£o, define-se uma entidade de primeira classe (&lt;a href=&quot;https://en.wikipedia.org/wiki/First-class_citizen&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;first-class citizens&lt;/a&gt;) como a entidade em que √© permitido realizar qualquer opera√ß√£o oferecida por aquela linguagem.&lt;/p&gt;
&lt;p&gt;Em Javascript, fun√ß√µes s√£o entidades de primeira classe. &lt;/p&gt;
&lt;!-- Com elas √© poss√≠vel: --&gt;
&lt;p&gt;Suponha a fun√ß√£o declarada abaixo:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// declara√ß√£o&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;minhaFn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;minhaFn executou&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Em javascript √© poss√≠vel atribu√≠-la a uma vari√°vel, um atributo ou guard√°-la em um array:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// atribui√ß√£o&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; minhaVar &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; minhaFn&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// atribuindo a um atributo&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; meuObj &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; meuAtrib &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; minhaFn &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// declarando e colocando num array ao mesmo tempo&lt;/span&gt;
arr&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;minhaFn executou&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Dessa forma, minhaFn pode ser executada tanto pelo nome original como pelas vari√°veis:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token function&quot;&gt;minhaFn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ou&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;minhaVar&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ou&lt;/span&gt;
meuObj&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;meuAtrib&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;¬†&lt;/p&gt;
&lt;p&gt;Em javascript tamb√©m podemos passar uma fun√ß√£o como par√¢metro de outra fun√ß√£o e tamb√©m podemos retornar uma fun√ß√£o como resposta:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;executaFuncao&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; fn&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Esse recurso √© poderoso, e √© por isso que conseguimos fazer coisas mais sofisticadas em javascript como no exemplo:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// array de pessoas&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; pessoas &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;nome&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Ant√¥nio&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; idade&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;25&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;nome&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Jos√©&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; idade&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;51&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;nome&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Maria&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; idade&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;38&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// define uma fun√ß√£o de compara√ß√£o&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;comparePor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;prop&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;a&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; b&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; x &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; a&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;prop&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            y &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;prop&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; y&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; y&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ordena por nome usando a fun√ß√£o retornada por comparePor()&lt;/span&gt;
pessoas&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;sort&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;comparePor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;nome&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;¬†&lt;/p&gt;
&lt;p&gt;Por √∫ltimo, podemos mencionar que podemos usar fun√ß√µes com operadores condicionais, como if por exemplo:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; teste &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fn1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;fn2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;¬†&lt;/p&gt;</content:encoded></item></channel></rss>